<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>iSEE layout for TreeSE — iSEE • iSEEtree</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="iSEE layout for TreeSE — iSEE"><meta property="og:description" content="Panel configuration tuned to the specific properties of
TreeSummarizedExperiment."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEEtree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/iSEEtree.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/microbiome/iSEEtree/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>iSEE layout for TreeSE</h1>
    <small class="dont-index">Source: <a href="https://github.com/microbiome/iSEEtree/blob/devel/R/iSEE-default.R" class="external-link"><code>R/iSEE-default.R</code></a></small>
    <div class="hidden name"><code>iSEE.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Panel configuration tuned to the specific properties of
<code><a href="https://rdrr.io/pkg/TreeSummarizedExperiment/man/TreeSummarizedExperiment-constructor.html" class="external-link">TreeSummarizedExperiment</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">iSEE</span><span class="op">(</span></span>
<span>  <span class="va">se</span>,</span>
<span>  initial <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extra <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colormap <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/iSEE/man/ExperimentColorMap-class.html" class="external-link">ExperimentColorMap</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  landingPage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/iSEE/man/createLandingPage.html" class="external-link">createLandingPage</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  tour <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  appTitle <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  runLocal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  voice <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  bugs <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  saveState <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-se">se<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>A <a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment</a> object, ideally with named assays.
If missing, an app is launched with a landing page generated by the <code>landingPage</code> argument.</p></dd>


<dt id="arg-initial">initial<a class="anchor" aria-label="anchor" href="#arg-initial"></a></dt>
<dd><p>A list of <a href="https://rdrr.io/pkg/iSEE/man/Panel-class.html" class="external-link">Panel</a> objects specifying the initial state of the app.
The order of panels determines the sequence in which they are laid out in the interface.
Defaults to one instance of each panel class available from <span class="pkg">iSEE</span>.</p></dd>


<dt id="arg-extra">extra<a class="anchor" aria-label="anchor" href="#arg-extra"></a></dt>
<dd><p>A list of additional <a href="https://rdrr.io/pkg/iSEE/man/Panel-class.html" class="external-link">Panel</a> objects that might be added after the app has started.
Defaults to one instance of each panel class available from <span class="pkg">iSEE</span>.</p></dd>


<dt id="arg-colormap">colormap<a class="anchor" aria-label="anchor" href="#arg-colormap"></a></dt>
<dd><p>An <a href="https://rdrr.io/pkg/iSEE/man/ExperimentColorMap-class.html" class="external-link">ExperimentColorMap</a> object that defines custom colormaps to apply to individual <code>assays</code>, <code>colData</code> and <code>rowData</code> covariates.</p></dd>


<dt id="arg-landingpage">landingPage<a class="anchor" aria-label="anchor" href="#arg-landingpage"></a></dt>
<dd><p>A function that renders a landing page when <code>iSEE</code> is started without any specified <code>se</code>.
Ignored if <code>se</code> is supplied.</p></dd>


<dt id="arg-tour">tour<a class="anchor" aria-label="anchor" href="#arg-tour"></a></dt>
<dd><p>A data.frame with the content of the interactive tour to be displayed after starting up the app.
Ignored if <code>se</code> is not supplied.</p></dd>


<dt id="arg-apptitle">appTitle<a class="anchor" aria-label="anchor" href="#arg-apptitle"></a></dt>
<dd><p>A string indicating the title to be displayed in the app.
If not provided, the app displays the version info of <code><a href="https://rdrr.io/pkg/iSEE/man/iSEE.html" class="external-link">iSEE</a></code>.</p></dd>


<dt id="arg-runlocal">runLocal<a class="anchor" aria-label="anchor" href="#arg-runlocal"></a></dt>
<dd><p>A logical indicating whether the app is to be run locally or remotely on a server, which determines how documentation will be accessed.</p></dd>


<dt id="arg-voice">voice<a class="anchor" aria-label="anchor" href="#arg-voice"></a></dt>
<dd><p>A logical indicating whether the voice recognition should be enabled.</p></dd>


<dt id="arg-bugs">bugs<a class="anchor" aria-label="anchor" href="#arg-bugs"></a></dt>
<dd><p>Set to <code>TRUE</code> to enable the bugs Easter egg.
Alternatively, a named numeric vector control the respective number of each bug type (e.g., <code>c(bugs=3L, spiders=1L)</code>).</p></dd>


<dt id="arg-savestate">saveState<a class="anchor" aria-label="anchor" href="#arg-savestate"></a></dt>
<dd><p>A function that accepts a single argument containing the current application state and saves it to some appropriate location.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments to pass to <code>shinyApp</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The iSEE method for the TreeSE container returns a default set of panels
typically relevant for microbiome data. This configuration can be modified
by defining a different set of initial panels. By default, the interface
includes the following panels:</p><ul><li><p><code><a href="https://rdrr.io/pkg/iSEE/man/RowDataTable-class.html" class="external-link">RowDataTable()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/iSEE/man/ColumnDataTable-class.html" class="external-link">ColumnDataTable()</a></code></p></li>
<li><p><code><a href="RowTreePlot.html">RowTreePlot()</a></code></p></li>
<li><p><code><a href="AbundancePlot.html">AbundancePlot()</a></code></p></li>
<li><p><code><a href="AbundanceDensityPlot.html">AbundanceDensityPlot()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/iSEE/man/ReducedDimensionPlot-class.html" class="external-link">ReducedDimensionPlot()</a></code></p></li>
<li><p><code><a href="https://rdrr.io/pkg/iSEE/man/ComplexHeatmapPlot-class.html" class="external-link">ComplexHeatmapPlot()</a></code></p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>Configuring the initial state of the app is as easy as passing a list of <a href="https://rdrr.io/pkg/iSEE/man/Panel-class.html" class="external-link">Panel</a> objects to <code>initial</code>.
Each element represents one panel and is typically constructed with a command like <code><a href="https://rdrr.io/pkg/iSEE/man/ReducedDimensionPlot-class.html" class="external-link">ReducedDimensionPlot</a>()</code>.
Panels are filled from left to right in a row-wise manner depending on the available width.
Each panel can be easily customized by modifying the parameters in each object.</p>
<p>The <code>extra</code> argument should specify <a href="https://rdrr.io/pkg/iSEE/man/Panel-class.html" class="external-link">Panel</a> classes that might not be shown during initialization
but can be added interactively by the user after the app has started.
The first instance of each new class in <code>extra</code> will be used as a template when the user adds a new panel of that class.
Note that <code>initial</code> will automatically be appended to <code>extra</code> to form the final set of available panels,
so it is not strictly necessary to re-specify instances of those initial panels in <code>extra</code>.
(unless we want the parameters of newly created panels to be different from those at initialization).</p>
    </div>
    <div id="setting-up-a-tour">
    <h2>Setting up a tour</h2>



<p>The <code>tour</code> argument allows users to specify a custom tour to walk their audience through various panels.
This is useful for describing different aspects of the dataset and highlighting interesting points in an interactive manner.</p>
<p>We use the format expected by the <code>rintrojs</code> package - see <a href="https://github.com/carlganz/rintrojs#usage" class="external-link">https://github.com/carlganz/rintrojs#usage</a> for more information.
There should be two columns, <code>element</code> and <code>intro</code>, with the former describing the element to highlight and the latter providing some descriptive text.
The <code><a href="https://rdrr.io/pkg/iSEE/man/defaultTour.html" class="external-link">defaultTour</a></code> also provides the default tour that is used in the Examples below.</p>
    </div>
    <div id="creating-a-landing-page">
    <h2>Creating a landing page</h2>



<p>If <code>se</code> is not supplied, a landing page is generated that allows users to upload their own RDS file to initialize the app.
By default, the maximum request size for file uploads defaults to 5MB
(<a href="https://shiny.rstudio.com/reference/shiny/0.14/shiny-options.html" class="external-link">https://shiny.rstudio.com/reference/shiny/0.14/shiny-options.html</a>).
To raise the limit (e.g., 50MB), run <code>options(shiny.maxRequestSize=50*1024^2)</code>.</p>
<p>The <code>landingPage</code> argument can be used to alter the landing page, see <code><a href="https://rdrr.io/pkg/iSEE/man/createLandingPage.html" class="external-link">createLandingPage</a></code> for more details.
This is useful for creating front-ends that can retrieve <a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment</a>s from a database on demand for interactive visualization.</p>
    </div>
    <div id="saving-application-state">
    <h2>Saving application state</h2>



<p>If users want to record the application state, they can download an RDS file containing a list with the entries:</p><ul><li><p><code>memory</code>, a list of <a href="https://rdrr.io/pkg/iSEE/man/Panel-class.html" class="external-link">Panel</a> objects containing the current state of the application.
This can be directly re-used as the <code>initial</code> argument in a subsequent <code><a href="https://rdrr.io/pkg/iSEE/man/iSEE.html" class="external-link">iSEE</a></code> call.</p></li>
<li><p><code>se</code>, the <a href="https://rdrr.io/pkg/SummarizedExperiment/man/SummarizedExperiment-class.html" class="external-link">SummarizedExperiment</a> object of interest.
This is optional and may not be present in the list, depending on the user specifications.</p></li>
<li><p><code>colormap</code>, the <a href="https://rdrr.io/pkg/iSEE/man/ExperimentColorMap-class.html" class="external-link">ExperimentColorMap</a> object being used.
This is optional and may not be present in the list, depending on the user specifications.</p></li>
</ul><p>We can also provide a custom function in <code>saveState</code> that accepts a single argument containing this list.
This is most useful when <code><a href="https://rdrr.io/pkg/iSEE/man/iSEE.html" class="external-link">iSEE</a></code> is deployed in an enterprise environment where sessions can be saved in a persistent location;
combined with a suitable <code>landingPage</code> specification, this allows users to easily reload sessions of interest.
The idea is very similar to Shiny bookmarks but is more customizable and can be used in conjunction with URL-based bookmarking.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Import TreeSE</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microbiome/mia" class="external-link">mia</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"GlobalPatterns"</span>, package <span class="op">=</span> <span class="st">"mia"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tse</span> <span class="op">&lt;-</span> <span class="va">GlobalPatterns</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Agglomerate TreeSE by Genus</span></span></span>
<span class="r-in"><span><span class="va">tse_genus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mia/man/agglomerate-methods.html" class="external-link">agglomerateByRank</a></span><span class="op">(</span><span class="va">tse</span>,</span></span>
<span class="r-in"><span>                               rank <span class="op">=</span> <span class="st">"Genus"</span>,</span></span>
<span class="r-in"><span>                               onRankOnly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Add relabundance assay</span></span></span>
<span class="r-in"><span><span class="va">tse_genus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/mia/man/transformAssay.html" class="external-link">transformAssay</a></span><span class="op">(</span><span class="va">tse_genus</span>, method <span class="op">=</span> <span class="st">"relabundance"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Launch iSEE with custom initial panels</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">iSEE</span><span class="op">(</span><span class="va">tse_genus</span>, initial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="RowTreePlot.html">RowTreePlot</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="AbundancePlot.html">AbundancePlot</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="AbundanceDensityPlot.html">AbundanceDensityPlot</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Giulio Benedetti.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

